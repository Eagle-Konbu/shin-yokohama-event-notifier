# 日産スタジアムのスクレイパー実装

## Title
日産スタジアムのスクレイパーを実装する

## Description

### 概要
日産スタジアムの公式サイトからイベント情報を取得するスクレイパーを実装します。

### 対象URL
https://www.nissan-stadium.jp/calendar/

### ⚠️ 重要な注意事項
- **対象サイトには日産スタジアム以外の施設のイベントも掲載されています**
- **「日産スタジアム」と表記されているイベントのみを抽出してください**
- 他の施設（例：小机競技場、しんよこフットボールパークなど）のイベントは除外する必要があります
- **各イベントのテキストリンクをたどり、イベント詳細ページから詳細情報を取得してください**
- カレンダーページには概要のみ表示されているため、詳細ページで時間・日付・場所などの完全な情報を取得する必要があります

### 現状
- `internal/infrastructure/scraper/nissan_stadium.go` にスケルトン実装が存在
- `FetchEvents` メソッドは "not implemented" エラーを返す状態

### 実装要件

1. **イベント情報の取得**
   - 日産スタジアムの公式カレンダーページからイベント情報をスクレイピング
   - 当日のイベント情報を取得
   - **重要: 「日産スタジアム」と明示されているイベントのみを対象とする**
   - 他施設のイベントは除外すること
   - **各イベントのリンクをクリックし、イベント詳細ページに遷移する**
   - **詳細ページから時間、日付、場所などの詳細情報を取得する**

2. **データ構造**
   - `event.Event` 型のスライスを返す
   - 必須フィールド: イベント名、開催日、会場ID
   - オプション: 開始時間、終了時間、説明など

3. **エラーハンドリング**
   - HTTP リクエストのエラーを適切に処理（カレンダーページと詳細ページの両方）
   - HTML パース失敗時のエラーハンドリング
   - イベントが見つからない場合の処理
   - 詳細ページへのアクセス失敗時の処理

4. **テスト**
   - ユニットテストの実装（`nissan_stadium_test.go`）
   - モックを使用したテストケースの作成

### 受け入れ基準

- [ ] `FetchEvents` メソッドが正常にイベント情報を取得できる
- [ ] **「日産スタジアム」のイベントのみが抽出され、他施設のイベントが除外されている**
- [ ] **各イベントの詳細ページに遷移し、時間・日付・場所などの詳細情報を取得できる**
- [ ] エラーケースが適切に処理される
- [ ] ユニットテストが実装され、すべてパスする
- [ ] コードが既存のコーディング規約に準拠している
- [ ] `task ci-check` が成功する

### 参考情報
- スクレイピング対象: https://www.nissan-stadium.jp/calendar/
- 既存のスケルトン実装: `internal/infrastructure/scraper/nissan_stadium.go`
- インターフェース: `internal/domain/ports/event_fetcher.go`
- ドメインモデル: `internal/domain/event/event.go`

---

## 共通の注意事項

### スクレイピングポリシー
- 各サイトの利用規約を遵守してください
- 過度なアクセスを避け、適切な間隔でリクエストを行ってください
- User-Agent を適切に設定してください

### アーキテクチャ
- ヘキサゴナルアーキテクチャに従ってください
- `domain/ports` のインターフェースを実装してください
- 外部依存（HTTP クライアント等）は注入可能にしてください

### コーディング規約
- INSTRUCTIONS.md に記載されているガイドラインに従ってください
- コミット前に必ず `task tidy` と `task ci-check` を実行してください
- golangci-lint のエラーは `task lint-fix` で自動修正してください
- import の整理は `task goreg-fix` または `goreg -w <file>` で行ってください

### 依存関係
- 可能な限り Go 標準ライブラリを使用してください
- 新しい外部ライブラリの追加が必要な場合は、理由を明確にしてください
